window.onload=function(){let content=document.getElementById('mediumPosts');let request=new XMLHttpRequest();request.open('GET','https://api.rss2json.com/v1/api.json?rss_url=https%3A%2F%2Fmedium.com%2Ffeed%2F'+mediumHandle,!0);request.onload=function(){if(request.status>=200&&request.status<400){let output='';let array=JSON.parse(request.responseText).items;array.forEach(function(item,n){output+='<article><a href="'+item.guid+'" aria-label="Read blog post"><header><div class="image-medium"><img src="'+item.thumbnail+'">';let date=new Date(item.pubDate);let json=JSON.stringify(date);let dateStr=JSON.parse(json);let newDate=new Date(dateStr);let newDateDay=newDate.getDate();let month=new Array();month[0]="Jan";month[1]="Feb";month[2]="Mar";month[3]="Apr";month[4]="May";month[5]="Jun";month[6]="Jul";month[7]="Aug";month[8]="Sep";month[9]="Oct";month[10]="Nov";month[11]="Dec";let newDateMonth=month[newDate.getMonth()];output+='<div class="date"><p class="day">'+newDateDay+'</p><p class="month">'+newDateMonth+'</p></div></header>';output+='<div class="post-details"><h3>'+item.title+'</h3>';output+='<div class="post-meta"><div><p class="post-author">'+item.author+'</p><p class="post-description">'
let postDescription=item.description.replace(/<img[^>]*>/g,"");let maxLength=80;let trimmedString=postDescription.substr(0,maxLength);trimmedString=trimmedString.substr(0,Math.min(trimmedString.length,trimmedString.lastIndexOf(" ")))
output+=trimmedString+'...</p></div>';output+='<div class="tags"><span class="category">'+item.categories[0]+'</span><span class="category">'+item.categories[1]+'</span><span class="category">'+item.categories[2]+'</span><span class="category">'+item.categories[3]+'</span><span class="category">'+item.categories[4]+'</span><span class="category">'+'</span></div></div></div></a></article>';output+='</div></div></a></article>';return n<postQuantity-1});content.innerHTML=output}};request.send()}
